<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="pl" lang="pl">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Konfiguracja bazy danych : Podręcznik użytkownika CodeIgniter</title>

<style type='text/css' media='all'>@import url('../userguide.css');</style>
<link rel='stylesheet' type='text/css' media='all' href='../userguide.css' />

<script type="text/javascript" src="../nav/nav.js"></script>
<script type="text/javascript" src="../nav/prototype.lite.js"></script>
<script type="text/javascript" src="../nav/moo.fx.js"></script>
<script type="text/javascript" src="../nav/user_guide_menu.js"></script>

<meta name='robots' content='all' />
<meta name='author' content='ExpressionEngine Dev Team' />
<meta name='description' content='Podręcznik użytkownika CodeIgniter' />

</head>
<body>

<!-- START NAVIGATION -->
<div id="nav"><div id="nav_inner"><script type="text/javascript">create_menu('../');</script></div></div>
<div id="nav2"><a name="top"></a><a href="javascript:void(0);" onclick="myHeight.toggle();"><img src="../images/nav_toggle_darker.png" width="154" height="43" border="0" title="Pokaż spis treści" alt="Pokaż spis treści" /></a></div>
<div id="masthead">
<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
<tr>
<td><h1>Podręcznik użytkownika CodeIgniter wersja 2.2.1</h1></td>
<td id="breadcrumb_right"><a href="../toc.html">Spis Treści</a></td>
</tr>
</table>
</div>
<!-- END NAVIGATION -->


<!-- START BREADCRUMB -->
<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
<tr>
<td id="breadcrumb">
<a href="http://codeigniter.org.pl/">CodeIgniter</a> &nbsp;&#8250;&nbsp;
<a href="../index.html">Podręcznik użytkownika</a> &nbsp;&#8250;&nbsp;
<a href="index.html">Biblioteka bazy danych</a> &nbsp;&#8250;&nbsp;
Konfiguracja
</td>
<td id="searchbox"><form method="get" action="http://www.google.com/search"><input type="hidden" name="as_sitesearch" id="as_sitesearch" value="www.codeigniter.org.pl/user_guide/" />Przeszukaj podręcznik użytkownika&nbsp; <input type="text" class="input" style="width:200px;" name="q" id="q" size="31" maxlength="255" value="" />&nbsp;<input type="submit" class="submit" name="sa" value="Idź" /></form></td>
</tr>
</table>
<!-- END BREADCRUMB -->


<br clear="all" />


<!-- START CONTENT -->
<div id="content">


<h1>Konfiguracja bazy danych</h1>

<p>CodeIgniter posiada plik konfiguracyjny, który pozwala na przechowywanie danych połączenia z bazą danych (nazwa użytkownika, hasło, nazwa bazy danych, itp).
Lokalizacja pliku jest następująca <samp>application/config/database.php</samp>. Możesz również ustawić specyficzne właściwości dla danych <a href="../libraries/config.html">środowisk</a> przez ustawienie w pliku <strong>database.php</strong> odpowiednich nazw zmiennych.</p>

<p>Wartości konfiguracyjne ustawiane są w wielowymiarowej tablicy:</p>

<code>$db['default']['hostname'] = "localhost";<br />
$db['default']['username'] = "root";<br />
$db['default']['password'] = "";<br />
$db['default']['database'] = "database_name";<br />
$db['default']['dbdriver'] = "mysql";<br />
$db['default']['dbprefix'] = "";<br />
$db['default']['pconnect'] = TRUE;<br />
$db['default']['db_debug'] = FALSE;<br />
$db['default']['cache_on'] = FALSE;<br />
$db['default']['cachedir'] =  &quot;&quot;;<br />
$db['default']['char_set'] = "utf8";<br />
$db['default']['dbcollat'] = "utf8_general_ci";<br />
$db['default']['swap_pre'] = "";<br />
$db['default']['autoinit'] = TRUE;<br />
$db['default']['stricton'] = FALSE;</code>

<p>Powodem wykorzystania wielowymiarowej tablicy, jest możliwość przechowywania różnych wartości dla różnych zestawów konfiguracyjnych. 
Jeżeli posiadasz wiele środowisk (developerskie, produkcyjne, testwe, itp.) pracujących na jednej instalacji, możesz ustawić grupę połączeń dla każdego środowiska. Np. dla środowiska testowego konfiguracja może wyglądać tak:</p>

<code>$db['test']['hostname'] = "localhost";<br />
$db['test']['username'] = "root";<br />
$db['test']['password'] = "";<br />
$db['test']['database'] = "database_name";<br />
$db['test']['dbdriver'] = "mysql";<br />
$db['test']['dbprefix'] = "";<br />
$db['test']['pconnect'] = TRUE;<br />
$db['test']['db_debug'] = FALSE;<br />
$db['test']['cache_on'] = FALSE;<br />
$db['test']['cachedir'] =  &quot;&quot;;<br />
$db['test']['char_set'] = "utf8";<br />
$db['test']['dbcollat'] = "utf8_general_ci";<br />
$db['test']['swap_pre'] = "";<br />
$db['test']['autoinit'] = TRUE;<br />
$db['test']['stricton'] = FALSE;</code>


<p>Wtedy, aby system używał tej grupy globalnie, powinieneś ustawić tą zmienną w pliku konfiguracyjnym:</p>

<code>$active_group = "test";</code>

<p>Uwaga: Nazwa "test" jest oczywiście przykładowa. Możesz użyć jakiejkolwiek nazwy. Domyślnie używamy słowa "default"
dla głównego połączenia, ale ta nazwa też może zostać zmieniona na taką, która jest bardziej odpowiednia dla Twojego projektu.</p>

<h3>Active Record</h3>

<p>Klasa <a href="active_record.html">Active Record</a> jest globalnie włączana lub wyłączana poprzez ustawienie zmiennej $active_record na TRUE/FALSE (boolean) w pliku konfiguracyjnym bazy danych .
Jeśli nie używasz klasy active record, możesz ustawić tę wartość na FALSE, co spowoduje mniejsze zapotrzebowanie na zasoby systemu.</p>

<code>$active_record = TRUE;</code>

<p class="important"><strong>Uwaga:</strong> Niektóre klasy CodeIgnitera jak np. Sesje, wymagają aby klasa Active Record była włączona, w innym przypadku nie mogą udostępnić niektórych spośród swoich funkcji.</p>

<h3>Objaśnienie wartości:</h3>

<ul>
<li><strong>hostname</strong> - Nazwa hosta Twojego serwera bazy danych. Często przyjmuje wartość "localhost".</li>
<li><strong>username</strong> - Nazwa użytkownika używana do połączenia z bazą danych.</li>
<li><strong>password</strong> - Hasło używane do połączenia się z bazą danych.</li>
<li><strong>database</strong> - Nazwa bazy danych, z ktorą chcesz się połączyć.</li>
<li><strong>dbdriver</strong> - Typ bazy danych np: mysql, postgres, odbc, itp. Nazwa musi być pisana małymi literami.</li>
<li><strong>dbprefix</strong> - Opcjonalny prefix dla tabel, który będzie dodany do nazw tabel poczas wykonywania zapytań za pomocą klasy <a href="active_record.html">Active Record</a>.  Pozwala to na korzystanie z jednej bazy danych, przez wiele instancji CodeIgnitera.</li>
<li><strong>pconnect</strong> - TRUE/FALSE (boolean) - Czy używać stałego połączenia.</li>
<li><strong>db_debug</strong> - TRUE/FALSE (boolean) - Czy błędy bazy danych powinny być wyświetlane.</li>
<li><strong>cache_on</strong> - TRUE/FALSE (boolean) - Czy cache'owanie zapytań jest włączone, zobacz również <a href="caching.html">klasę cache'owania bazy danych</a>.</li>
<li><strong>cachedir</strong> - Ścieżka absolutna do katalogu z cachem dla zapytań bazy danych.</li>
<li><strong>char_set</strong> - Zestaw znaków używany do komunikacji z bazą danych.</li>
<li><strong>dbcollat</strong> - Sortowanie znaków używane podczas komunikacji z bazą danych. <p class="important"><strong>Uwaga:</strong> Dla baz danych MySQL i MySQLi, to ustawienie jest wykorzystywane jako backup, jeśli Twój serwer pracuje na PHP w wersji &lt; 5.2.3 lub MySQL &lt; 5.0.7. Istnieje niekompatybilność w PHP dla funkcji mysql_real_escape_string(), która może powodować, że Twoja strona będzie podatna na SQL injection, jeśli używasz wielobajtowego zestawu znaków i posiadasz niższe wersje oprogramowania niż wskazano przed chwilą.  Strony używające znakowania i sortowania ustawionych na Latin-1 lub UTF-8 nie są podatne na zagrożenie.</p></li>
<li><strong>swap_pre</strong> - Domyślny prefix dla tabel, który powinien być zamieniony z <var>dbprefix</var>.  Jest to przydatne, dla aplikacji rozproszonych, gdzie mógłbyś chcieć uruchamiać ręcznie napisane zapytania i potrzebował aby prefix mógł być zmieniony przez użytkownika końcowego.</li>
<li><strong>autoinit</strong> - Czy automatycznie łączyć z bazą danych, w momencie kiedy klasa jest ładowana. Jeśli wartość ustawiona jest na false, połączenie będzie wykonane dopiero podczas wykonywania pierwszego zapytania.</li>
<li><strong>stricton</strong> - TRUE/FALSE (boolean) - Czy wymuszać połączenie w trybie "Strict Mode" - dobrym rozwiązaniem jest upewnienie się, że działamy w tym trybie podczas etapu developmentu aplikacji.</li>
<li><strong>port</strong> - Port bazy danych.  Aby używać tej wartości, musisz dodać tę linię do pliku konfiguracyjnego bazy danych.<code>$db['default']['port'] =  5432;</code>
</ul>

<p class="important"><strong>Uwaga:</strong> Zależnie od tego jakiej platformy bazodanowej używasz (MySQL, Postgres, itp.)
nie wszystkie powyższe wartości będą potrzebne. Dla przykładu, podczas korzystania ze SQLite nie będziesz potrzebował określać nazwy użytkownika oraz hasła, 
a nazwa bazy danych będzie ścieżką do pliku bazy danych. Informacje przedstawione powyżej zakładają, że używasz bazy MySQL.</p>



</div>
<!-- END CONTENT -->


<div id="footer">
<p>
Poprzedni rozdział:&nbsp;&nbsp;<a href="examples.html">Szybki start: przykłady użycia</a>
&nbsp;&nbsp;&nbsp;&middot;&nbsp;&nbsp;
<a href="#top">Początek strony</a>&nbsp;&nbsp;&nbsp;&middot;&nbsp;&nbsp;
<a href="../index.html">Podręcznik użytkownika</a>&nbsp;&nbsp;&nbsp;&middot;&nbsp;&nbsp;
Następny rozdział:&nbsp;&nbsp;<a href="connecting.html">Łączenie z bazą danych</a>
</p>
<p><a href="http://www.codeigniter.org.pl">CodeIgniter</a> &nbsp;&middot;&nbsp; Copyright &#169; 2006 - 2011 &nbsp;&middot;&nbsp; <a href="http://ellislab.com/">EllisLab, Inc.</a></p>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-629893-58', 'codeigniter.org.pl');
  ga('send', 'pageview');

</script></body>
</html>